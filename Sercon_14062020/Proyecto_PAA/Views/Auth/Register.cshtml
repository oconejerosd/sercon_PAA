@model Proyecto_PAA.ViewModels.RegisterViewModel
@{
    ViewBag.Title = "Registro de usuario";
    List<SelectListItem> establecimientos = (List<SelectListItem>)ViewBag.establecimientos;
}

<div class="card">
    <div class="card-header">
        <h3>Registro de usuarios</h3>
    </div>
    <div class="card-body">
        <form action="/auth/Register" method="post">
            @Html.AntiForgeryToken()
            @Html.ValidationSummary("", new { @class = "text-danger" })
            <div class="form-group">
                <label>Tipo de Usuario</label>
                <select name="RoleId" class="form-control">
                    <option>Seleccione un rol</option>
                    @foreach (var role in Model.Roles)
                    {
                        <option value="@role.RoleId">@role.RoleName</option>
                    }
                </select>
            </div>
            <div class="form-group">
                <label>Nombre:</label>
                @Html.TextBoxFor(x => x.FirstName, new { @class = "form-control" })
                @Html.ValidationMessageFor(m => m.FirstName, "", new { @class = "text-danger" })
            </div>
            <div class="form-group">
                <label>Apellido:</label>
                <input type="text" name="LastName" value="@Model.LastName" class="form-control" />
                @Html.ValidationMessageFor(m => m.LastName, "", new { @class = "text-danger" })
            </div>
            <div class="form-group">
                <label>Establecimiento</label>
                
                @Html.DropDownList("EstablecimientoId", establecimientos, "Seleccione Establecimiento", new { @class = "form-control"})
            </div>
            <div class="form-group">
                <label>Email:</label>
                <input type="email" name="Email" value="@Model.Email" class="form-control" />
                @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
            </div>
            <div class="form-group">
                <label>Contraseña:</label>
                <input type="password" name="Password" value="" class="form-control" />
                @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger" })
            </div>
            <div class="form-group">
                <label>Confirme Contraseña:</label>
                <input type="password" name="ConfirmPassword" value="" class="form-control" />
                @Html.ValidationMessageFor(m => m.ConfirmPassword, "", new { @class = "text-danger" })
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-success btn-block">Guardar <i class="fa fa-save"></i></button>
            </div>
        </form>
    </div>
</div>
<div class="bottom-left" align="right">
    <svg class="bi bi-arrow-left-circle-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.646 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L6.207 7.5H11a.5.5 0 0 1 0 1H6.207l2.147 2.146z" />
    </svg>
    <a href="/Admin/Index">Volver</a>
</div>


